name: çƒ­æ¢—æŽ¨é€

on:
  schedule:
    - cron: '0 1 * * *'  # åŒ—äº¬æ—¶é—´09:00
    - cron: '0 7 * * *'  # åŒ—äº¬æ—¶é—´15:00
    - cron: '0 10 * * *' # åŒ—äº¬æ—¶é—´18:00
    - cron: '59 15 * * *' # åŒ—äº¬æ—¶é—´23:59

  workflow_dispatch:

jobs:
  push:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - run: pip install requests

      - name: åˆ›å»ºæŽ¨é€è„šæœ¬
        run: |
          cat > push.py << 'EOF'
      import requests
      from datetime import datetime

      webhook = "${{ secrets.WEBHOOK_URL }}"

      msg = f"""## ðŸ“… {datetime.now().strftime('%Yå¹´%mæœˆ%dæ—¥ %H:%M')} å…¨ç½‘çƒ­æ¢—æŽ¨é€

### ðŸ”¥ ä»Šæ—¥çƒ­æ¢—

**1. çƒ­æ¢—ç¤ºä¾‹1**
ðŸ’¬ å“ˆå“ˆå“ˆå“ˆå¤ªæžç¬‘äº†
ðŸ”— [æŸ¥çœ‹](https://example.com/1)

---

**2. çƒ­æ¢—ç¤ºä¾‹2**  
ðŸ’¬ ç¬‘æ­»æˆ‘äº†
ðŸ”— [æŸ¥çœ‹](https://example.com/2)

---

**3. çƒ­æ¢—ç¤ºä¾‹3**
ðŸ’¬ å¤ªçœŸå®žäº†
ðŸ”— [æŸ¥çœ‹](https://example.com/3)

âœ¨ GitHub Actionsè‡ªåŠ¨æŽ¨é€
      """

      r = requests.post(webhook, json={"msgtype":"markdown","markdown":{"content":msg}})
      print(f"æŽ¨é€ç»“æžœ: {r.json()}")
      EOF

      - name: æ‰§è¡ŒæŽ¨é€
        run: python push.py
